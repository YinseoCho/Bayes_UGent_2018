---
title: "Day 1: Intro to **R** and ```tidyverse```"
output:
  html_notebook:
    highlight: haddock
    theme: spacelab
    toc: yes
    toc_float: yes
editor_options:
  chunk_output_type: inline
---



```{r setup, include = FALSE} 
knitr::opts_chunk$set(comment = '#',
                      tidy = TRUE)
```



## Setup

If you want a fresh start:

* clear plots (if no plots are present, comment it out or it will throw an error)

```{r setup_clear_plots, eval = FALSE}
dev.off()
```

* clear console

```{r setup_clear_console, eval = FALSE}
cat("\014")
```

* clear environment

```{r setup_clear_environment, eval = FALSE}
rm(list = ls())
```

How to install packages:

```{r setup_install_packages}
install.packages("tidyverse")
```

It's good to know where your packages are. Type ```.libPaths()```.

```{r setup_install_packages_dir, echo = FALSE}
.libPaths()
```

How to load packages:

```{r setup_load_packages, message = FALSE}
library(tidyverse)
```

We are now inside an **R** project, which means that the working directory is automatically set to the directory containing the current *.Rmd* file. We can verify it by typing ```getwd()```.

```{r setup_where_are_we, echo = FALSE}
getwd()
```

This is my path, yours will obviously differ. If, for whatever reason, you are in another directory, you can set the working directory with ```setwd()```.

```{r setup_where_should_you_be, eval = FALSE}
setwd("NAME/OF/YOUR/DIRECTORY")
```

Verify that you are in the right directory with ```getwd()```. If you still have problems, please ask for help.

## The data

The data are in *.dat* format, so we are going to load them using ```read.table```.

```{r load_data}
att <- 
    read.table(
        "MixedAttitude.dat", # file name
        header = TRUE)       # data has headers
```

If you don't know what a function does, access the help (e.g., ```?read.table```).   
   
Let's have a look at the data. If you have **RStudio**, you can click on the name of the dataset in the *Environment* window (by default on the upper right corner).   
   
You can also type the name of the dataset in the console:

```{r see_data, cols.print = 11, rows.print = 21}
att
```

These are the data of `r length(unique(att$ssj))` participants who saw **neutral**, **positive**, or **negative** advertisement of **beer**, **wine**, and **water** in 3 separate sessions. They were asked to rate the drinks on a scale ranging from â€“ 100 (*dislike very much*) through 0 (*neutral*) to 100 (*like very much*). Researchers wanted to reduce binge drinking in teenagers, so they hoped that pairing negative imagery with alcoholic beverages would lower these ratings[^1].

### Data cleaning

#### Filtering

Looking at the data, you can see that the ratings of participant #99 are a bit strange... perhaps there was a technical problem, i.e., the rating scale was out of the -100/100 range.   
   
Let's filter this participant out. More specifically, we keep all participants that are NOT participant #99.

```{r filter}
att.noOutlier <- 
    att %>%
    filter(ssj!=99)
```

Did it work?

```{r filter_output, echo = FALSE, cols.print = 11, rows.print = 21}
att.noOutlier
```


















***

[^1]: This data set is part of a set of exercises in the book [Discovering Statistics Using R (Field, Miles & Field, 2012)](https://www.discoveringstatistics.com/books/discovering-statistics-using-r/).
